# MA20과 MA25 전략 백테스팅 분석

이 문서는 볼린저 밴드의 %B 지표를 기반으로 한 MA20 전략과 MA25 전략의 백테스팅 결과를 비교 분석합니다.

## 테스트 환경

- **대상 자산**: SPY (S&P 500 ETF)
- **테스트 기간**: 2022-05-31 ~ 2025-04-25 (약 3년, 1060일)
- **초기 자본금**: $10,000
- **데이터 주기**: 일봉 (Daily)

## 전략 설명

두 전략 모두 볼린저 밴드의 %B 지표를 기반으로 한 매매 신호를 사용합니다:

1. **MA20 전략**:
   - 20일 이동평균을 기준으로 볼린저 밴드와 %B 지표 계산
   - %B < 0.2: 매수 신호
   - %B > 0.8: 매도 신호
   - 그 외: 홀드 신호

2. **MA25 전략**:
   - 25일 이동평균을 기준으로 볼린저 밴드와 %B 지표 계산
   - %B < 0.2: 매수 신호
   - %B > 0.8: 매도 신호
   - 그 외: 홀드 신호

각 전략은 매수 신호에 롱 포지션(1), 매도 신호에 숏 포지션(-1), 홀드 신호에 중립 포지션(0)을 취합니다.

## 백테스팅 결과

### 1. 최종 포트폴리오 가치

| 전략 | 최종 가치 | 수익금 | 수익률 |
|------|-----------|--------|--------|
| MA20 전략 | $9,065.59 | -$934.41 | -9.34% |
| MA25 전략 | $10,050.86 | +$50.86 | +0.51% |
| 단순 매수홀드 | $13,932.35 | +$3,932.35 | +39.32% |

### 2. 연간 수익률

| 전략 | 연간 수익률 |
|------|------------|
| MA20 전략 | -3.32% |
| MA25 전략 | +0.17% |
| 단순 매수홀드 | +12.10% |

### 3. 위험 지표

#### 최대 낙폭 (Maximum Drawdown, MDD)

| 전략 | MDD |
|------|-----|
| MA20 전략 | -20.15% |
| MA25 전략 | -13.91% |
| 단순 매수홀드 | -18.76% |

#### 샤프 비율 (Sharpe Ratio)

| 전략 | 샤프 비율 |
|------|----------|
| MA20 전략 | -0.387 |
| MA25 전략 | -0.085 |
| 단순 매수홀드 | +0.609 |

### 4. 전략 상세 비교

#### 신호 차이와 수익성

- **신호 차이 발생 횟수**: 75회 (전체 거래일의 10.29%)
- **MA20이 MA25보다 수익이 좋았던 날**: 34일 (4.66%)
- **MA20이 MA25보다 수익이 나빴던 날**: 41일 (5.62%)

#### 거래 횟수

| 전략 | 총 거래 횟수 | 연평균 거래 횟수 |
|------|------------|----------------|
| MA20 전략 | 167회 | 57.5회 |
| MA25 전략 | 163회 | 56.1회 |

## 분석 및 결론

### 1. 수익성 비교

MA25 전략이 MA20 전략보다 10.87% 더 높은 수익률을 기록했습니다. MA20 전략은 약 9.34%의 손실을 냈지만, MA25 전략은 소폭이나마 0.51%의 이익을 냈습니다. 그러나 두 전략 모두 동일 기간 단순 매수홀드 전략의 39.32% 수익률에는 크게 못 미쳤습니다.

### 2. 위험 관리

MA25 전략은 MA20 전략보다 최대 낙폭(MDD)이 더 낮고(-13.91% vs -20.15%), 샤프 비율이 더 높아(-0.085 vs -0.387) 위험 조정 수익률 측면에서 우수했습니다. 특히 최대 낙폭은 단순 매수홀드 전략(-18.76%)보다도 낮아 위험 관리 측면에서 강점을 보였습니다.

### 3. 신호 안정성

MA 기간이 길어질수록(20일 → 25일) 가격 변동성에 덜 민감하게 반응하여 더 안정적인 신호를 생성했습니다. 거래 횟수도 MA25 전략이 약간 적었습니다(163회 vs 167회). 이는 MA 기간이 길수록 단기 시장 노이즈를 더 효과적으로 필터링할 수 있음을 시사합니다.

### 4. 시장 환경 고려

테스트 기간(2022-2025) 동안 전반적으로 주식 시장은 상승 추세였습니다. 이러한 환경에서는 단순 매수홀드 전략이 기술적 지표 기반 전략보다 유리하게 작용했습니다. 볼린저 밴드 기반 전략은 추세 추종보다는 평균 회귀(Mean Reversion) 특성을 가지므로, 방향성 있는 강한: 상승장에서는 성과가 제한될 수 있습니다.

### 5. 실무적 시사점

1. **MA 기간 선택**: 볼린저 밴드와 %B 지표를 사용할 때 MA20보다 MA25를 사용하는 것이 위험 관리와 수익성 측면에서 더 유리할 수 있습니다.

2. **거래 비용 고려**: 두 전략 모두 연간 55회 이상의 거래가 발생하므로, 실제 적용 시 거래 비용을 고려해야 합니다.

3. **시장 환경 적응**: 이러한 전략은 상승 추세가 명확한 시장보다는 횡보 또는 변동성이 큰 시장에서 더 효과적일 수 있습니다.

4. **위험 관리 중요성**: MA25 전략이 MA20보다 낮은 최대 낙폭을 보여, 위험 관리 측면에서 MA25가 더 선호될 수 있습니다.

## 한계점

1. 본 백테스팅은 특정 기간과 자산(SPY)에 대해서만 진행되었으므로, 다른 시장 환경이나 자산에서는 결과가 다를 수 있습니다.

2. 거래 비용, 슬리피지, 세금 등 실제 거래에서 발생하는 비용은 포함되지 않았습니다.

3. 단순한 %B 기반 신호만 사용했으므로, 추가적인 필터나 확인 지표를 사용하면 성과가 향상될 가능성이 있습니다. 